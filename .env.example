# Dispatcher AI - Environment Variables
# Copy this file to .env.local and fill in your values

# ===========================================
# ANTHROPIC (Claude AI) - Required
# ===========================================
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# ===========================================
# VAPI (Voice AI) - Required for voice calls
# ===========================================
# Get your keys from: https://dashboard.vapi.ai/
# Public key (safe for client-side)
NEXT_PUBLIC_VAPI_PUBLIC_KEY=your-public-key-here

# Assistant ID - Warehouse Manager (Mike the Dispatcher)
# This assistant handles the main warehouse negotiation
NEXT_PUBLIC_VAPI_ASSISTANT_ID=your-assistant-id-here

# Assistant ID - Driver Confirmation (Phase 12)
# This assistant confirms delivery time with the driver
# Create a new assistant in VAPI using VAPI_DRIVER_SYSTEM_PROMPT.md
# Leave empty to disable driver confirmation feature
NEXT_PUBLIC_VAPI_DRIVER_ASSISTANT_ID=

# Optional: Webhook secret for VAPI tool calls
VAPI_WEBHOOK_SECRET=your-webhook-secret

# ===========================================
# VOICE TRANSPORT CONFIGURATION
# ===========================================
# Voice transport mode: 'web' (browser WebRTC) or 'phone' (Twilio outbound)
# This sets the DEFAULT - users can override via UI toggle
NEXT_PUBLIC_DEFAULT_VOICE_TRANSPORT=phone

# ===========================================
# TWILIO / PHONE MODE (Required when using phone transport)
# ===========================================
# VAPI Private API Key (server-side, for outbound calls)
# Get from: https://dashboard.vapi.ai/ → Organization → API Keys
VAPI_PRIVATE_KEY=your-vapi-private-key

# CRITICAL: Tool server URL for the check_slot_cost webhook
# When running locally with ngrok, set this to your ngrok URL
# Without this, tool calls will fail and the $100 incentive won't work!
# BASE URL ONLY - do NOT include /api/tools/check-slot-cost (VAPI appends path automatically)
# Example: https://abc123.ngrok-free.dev
NEXT_PUBLIC_VAPI_TOOL_SERVER_URL=
# Alternative server-side env var (used as fallback)
VAPI_TOOL_SERVER_URL=

# VAPI Phone Number ID (your imported Twilio number in VAPI)
# Get from: https://dashboard.vapi.ai/ → Phone Numbers → click your number → copy ID
VAPI_PHONE_NUMBER_ID=your-phone-number-id

# Warehouse phone number to call (for demo purposes)
# Format: +1XXXXXXXXXX (US) or +91XXXXXXXXXX (India), etc.
WAREHOUSE_PHONE_NUMBER=+1234567890

# ===========================================
# OPTIONAL: Supabase (for persistence)
# ===========================================
# Uncomment if adding database support
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===========================================
# APP CONFIGURATION
# ===========================================
# Base URL for the app (used for callbacks)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment
NODE_ENV=development

# ===========================================
# GOOGLE DRIVE (Contract Documents) - Required
# ===========================================
# Service account credentials from Google Cloud Console
# 1. Go to: https://console.cloud.google.com/
# 2. Create a service account with Drive API + Sheets API access
# 3. Download JSON key and extract these values
# 4. Share your Drive folder with the service account email (Editor permission)

# Service account email (from JSON key file)
GOOGLE_SERVICE_ACCOUNT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# Private key (from JSON key file - include the full key with \n for newlines)
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Google Drive folder ID containing contract documents
# Extract from folder URL: https://drive.google.com/drive/folders/FOLDER_ID_HERE
GOOGLE_DRIVE_FOLDER_ID=1tvYYPUQlIC1AmBI-1lZrtmNAWzDk029g

# ===========================================
# GOOGLE SHEETS (Schedule Output) - Optional
# ===========================================
# RECOMMENDED: Use spreadsheet ID for reliability
# Extract from URL: https://docs.google.com/spreadsheets/d/SPREADSHEET_ID_HERE/edit
GOOGLE_SHEETS_SPREADSHEET_ID=1FRACmKM-OVNA1peDM1Y2JHyqaBBPKOI4LcEHMZQ8qCQ

# Fallback: Name to search for if spreadsheet ID not provided
# Will auto-create if not found (may hit service account quota issues)
GOOGLE_SHEETS_SCHEDULE_NAME="Dispatcher Schedule"